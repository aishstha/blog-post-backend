{"version":3,"sources":["webpack:///webpack/bootstrap e1e4e27b2e8faba09f70","webpack:///../node_modules/tslib/tslib.es6.js","webpack:///./config/config.ts","webpack:///external \"http-status-codes\"","webpack:///external \"express\"","webpack:///./utils/logger.ts","webpack:///./exceptions/UnauthorizedError.ts","webpack:///./exceptions/BadRequestError.ts","webpack:///external \"mongoose\"","webpack:///./middlewares/authenticate.ts","webpack:///./utils/jwt.ts","webpack:///./resources/enums/ErrorType.ts","webpack:///./exceptions/Error.ts","webpack:///./services/userService.ts","webpack:///./services/authService.ts","webpack:///./services/commentService.ts","webpack:///./controllers/comment.ts","webpack:///./index.ts","webpack:///./app.ts","webpack:///external \"cors\"","webpack:///external \"helmet\"","webpack:///external \"morgan\"","webpack:///external \"body-parser\"","webpack:///./routes.ts","webpack:///./routes/user.ts","webpack:///external \"winston-daily-rotate-file\"","webpack:///external \"fs\"","webpack:///external \"winston\"","webpack:///external \"dotenv\"","webpack:///../package.json","webpack:///./resources/lang/errors.json","webpack:///./resources/lang/messages.json","webpack:///external \"jsonwebtoken\"","webpack:///./controllers/user.ts","webpack:///./daos/user.ts","webpack:///./models/userModel.ts","webpack:///external \"google-auth-library\"","webpack:///./routes/auth.ts","webpack:///./controllers/auth.ts","webpack:///./middlewares/validateRefreshToken.ts","webpack:///./routes/post.ts","webpack:///./controllers/post.ts","webpack:///./services/postService.ts","webpack:///./daos/post.ts","webpack:///./models/postModel.ts","webpack:///./daos/comment.ts","webpack:///./models/commentModel.ts","webpack:///./routes/comment.ts","webpack:///./middlewares/notFoundHandler.ts","webpack:///./middlewares/genericErrorHandler.ts","webpack:///./middlewares/nodeErrorHandler.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 16);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e1e4e27b2e8faba09f70","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/tslib/tslib.es6.js\n// module id = 0\n// module chunks = 0","import * as dotenv from 'dotenv';\n\nimport app from '../../package.json';\nimport errors from '../resources/lang/errors.json';\nimport messages from '../resources/lang/messages.json';\n\ndotenv.config();\n\nconst isTestEnvironment = process.env.NODE_ENV === 'test';\n\nexport default {\n  errors,\n  messages,\n  name: app.name,\n  version: app.version,\n  googleClientId: process.env.GOOGLE_CLIENT_ID,\n  host: process.env.APP_HOST || '127.0.0.1',\n  dbConnectionString: process.env.DB_HOST,\n  environment: process.env.NODE_ENV || 'development',\n  appUrl: process.env.APP_URL || 'http://localhost:8888',\n  port:\n    (isTestEnvironment ? process.env.TEST_APP_PORT : process.env.APP_PORT) ||\n    '8000',\n  auth: {\n    saltRounds: process.env.SALT_ROUNDS || 11,\n    accessTokenDuration: process.env.ACCESS_TOKEN_DURATION || '24h', // TODO CHANGE THIS\n    refreshTokenDuration: process.env.REFRESH_TOKEN_DURATION || '24h',\n    accessTokenSecretKey:\n      process.env.ACCESS_TOKEN_SECRET_KEY || '<ACCESS_TOKEN_SECRET_KEY>',\n    refreshTokenSecretKey:\n      process.env.REFRESH_TOKEN_SECRET_KEY || '<REFRESH_TOKEN_SECRET_KEY>'\n  },\n  logging: {\n    dir: process.env.LOGGING_DIR || 'logs',\n    level: process.env.LOGGING_LEVEL || 'debug',\n    maxSize: process.env.LOGGING_MAX_SIZE || '20m',\n    maxFiles: process.env.LOGGING_MAX_FILES || '7d',\n    datePattern: process.env.LOGGING_DATE_PATTERN || 'YYYY-MM-DD'\n  },\n  ERROR_MESSAGE: {\n    POST_ID_NOT_FOUND: 'Post id not found',\n    TOKEN_REQUIRED: 'Token is required to login',\n    INVALID_GOOGLE_CLIENT_ID: 'Invalid google client id',\n    INVALID_ACTION: 'You can not perform this action'\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./config/config.ts","module.exports = require(\"http-status-codes\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http-status-codes\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 3\n// module chunks = 0","import 'winston-daily-rotate-file';\n\nimport * as fs from 'fs';\nimport * as winston from 'winston';\n\nimport app from '../config/config';\n\nconst { level, maxSize, maxFiles, datePattern, dir: logDir } = app.logging;\n\nif (!fs.existsSync(logDir)) {\n  fs.mkdirSync(logDir);\n}\n\nconst transports = [\n  new winston.transports.DailyRotateFile({\n    maxSize,\n    maxFiles,\n    datePattern,\n    zippedArchive: true,\n    filename: `${logDir}/${level}-%DATE%.log`\n  })\n];\n\nif (process.env.NODE_ENV === 'development') {\n  transports.push(\n    new winston.transports.Console({\n      level,\n      colorize: true,\n      timestamp: () => new Date().toISOString()\n    })\n  );\n}\n\nconst logger = new winston.Logger({ transports });\n\nexport default logger;\n\n\n\n// WEBPACK FOOTER //\n// ./utils/logger.ts","import * as HttpStatus from 'http-status-codes';\n\nimport Error from './Error';\n\n/**\n * @class UnauthorizedError\n * @extends {Error}\n */\nclass UnauthorizedError extends Error {\n  /**\n   * Error message to be thrown.\n   *\n   * @type {string}\n   * @memberof UnauthorizedError\n   */\n  message: string;\n\n  /**\n   * Creates an instance of UnauthorizedError.\n   *\n   * @param {string} message\n   * @memberof UnauthorizedError\n   */\n  constructor(message: string) {\n    super(message, HttpStatus.UNAUTHORIZED);\n\n    this.message = message;\n  }\n}\n\nexport default UnauthorizedError;\n\n\n\n// WEBPACK FOOTER //\n// ./exceptions/UnauthorizedError.ts","import * as HttpStatus from 'http-status-codes';\n\nimport Error from './Error';\n\n/**\n * @class BadRequestError\n * @extends {Error}\n */\nclass BadRequestError extends Error {\n  /**\n   * Error message to be thrown.\n   *\n   * @type {string}\n   * @memberof UnauthorizedError\n   */\n  message: string;\n\n  /**\n   * Creates an instance of BadRequestError.\n   *\n   * @param {string} message\n   * @memberof ForbiddenError\n   */\n  constructor(message: string) {\n    super(message, HttpStatus.BAD_REQUEST);\n\n    this.message = message;\n  }\n}\n\nexport default BadRequestError;\n\n\n\n// WEBPACK FOOTER //\n// ./exceptions/BadRequestError.ts","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 7\n// module chunks = 0","import { Request, Response, NextFunction } from 'express';\n\nimport logger from '../utils/logger';\nimport config from '../config/config';\nimport ErrorType from './../resources/enums/ErrorType';\nimport BadRequestError from '../exceptions/BadRequestError';\nimport UnauthorizedError from '../exceptions/UnauthorizedError';\n\nimport * as jwt from '../utils/jwt';\n\nconst { errors } = config;\n\nconst tokenErrorMessageMap: any = {\n  [ErrorType.INVALID]: errors.invalidToken,\n  [ErrorType.EXPIRED]: errors.accessTokenExpired\n};\n\n/**\n * A middleware to authenticate the authorization token i.e. access token.\n *\n * @param {Request} req\n * @param {Response} res\n * @param {NextFunction} next\n */\nasync function authenticate(req: Request, res: Response, next: NextFunction) {\n  try {\n    res.locals.accessToken = String(req.headers.authorization).replace(\n      'Bearer ',\n      ''\n    );\n\n    if (!req.headers.authorization || !res.locals.accessToken) {\n      throw new BadRequestError(errors.noToken);\n    }\n\n    logger.debug(\n      'JWT: Verifying token - ',\n      req.headers.authorization,\n      res.locals.accessToken\n    );\n    const response: any = await jwt.verifyAccessToken(res.locals.accessToken);\n\n    res.locals.loggedInPayload = response;\n    logger.debug(\n      'JWT: Authentication verified - ',\n      JSON.stringify(res.locals.loggedInPayload, null, 2)\n    );\n\n    next();\n  } catch (err) {\n    const tokenErrorMessage = tokenErrorMessageMap[err.name];\n    logger.error('JWT: Authentication failed -', err.message);\n\n    if (tokenErrorMessage) {\n      logger.error('JWT: Token error -', tokenErrorMessage);\n\n      next(new UnauthorizedError(tokenErrorMessage));\n    } else {\n      next(err);\n    }\n  }\n}\n\nexport default authenticate;\n\n\n\n// WEBPACK FOOTER //\n// ./middlewares/authenticate.ts","import jwbt from 'jsonwebtoken';\n\nimport logger from './logger';\nimport config from '../config/config';\n\nconst { accessTokenDuration, accessTokenSecretKey, refreshTokenDuration, refreshTokenSecretKey } = config.auth;\n\n/**\n * Generate access token from given data\n *\n * @param {object} data\n * @returns {string}\n */\nexport function generateAccessToken(data: any): string {\n  logger.debug('JWT: Generating access token - ', JSON.stringify({ data, expiresIn: accessTokenDuration }, null, 2));\n\n  return jwbt.sign(data, accessTokenSecretKey, { expiresIn: accessTokenDuration });\n}\n\n/**\n * Generate refresh token from given data\n *\n * @param {object} data\n * @returns {string}\n */\nexport function generateRefreshToken(data: any): string {\n  logger.debug('JWT: Generating refresh token -', JSON.stringify({ data, expiresIn: refreshTokenDuration }, null, 2));\n\n  return jwbt.sign(data, refreshTokenSecretKey, { expiresIn: refreshTokenDuration });\n}\n\n/**\n * Verify access token.\n *\n * @param {string} token\n * @returns {object | string}\n */\nexport function verifyAccessToken(token: string): object | string {\n  return jwbt.verify(token, accessTokenSecretKey);\n}\n\n/**\n * Verify refresh token.\n *\n * @param {string} token\n * @returns {object | string}\n */\nexport function verifyRefreshToken(token: string): object | string {\n  return jwbt.verify(token, refreshTokenSecretKey);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils/jwt.ts","/**\n * List of ErrorType.\n */\nenum ErrorType {\n  INVALID = 'JsonWebTokenError',\n  EXPIRED = 'TokenExpiredError',\n  NO_ROWS_UPDATED_ERROR = 'No Rows Updated'\n}\n\nexport default ErrorType;\n\n\n\n// WEBPACK FOOTER //\n// ./resources/enums/ErrorType.ts","/**\n * Override the default Error interface to throw custom error messages.\n *\n * @class Error\n * @extends {Error}\n */\nclass Error {\n  /**\n   * Error message to be thrown.\n   *\n   * @type {string}\n   * @memberof Error\n   */\n  message: string;\n\n  /**\n   * The type of error message. Similar to isBoom, isJoi etc.\n   *\n   * @type {boolean}\n   * @memberof Error\n   */\n  isCustom: boolean;\n\n  /**\n   * HTTP Status code to be sent as response status.\n   *\n   * @type {number}\n   * @memberof Error\n   */\n  statusCode: number;\n\n  /**\n   * Creates an instance of Error.\n   *\n   * @param {string} message\n   * @param {number} statusCode\n   * @memberof Error\n   */\n  constructor(message: string, statusCode: number) {\n    this.isCustom = true;\n    this.message = message;\n    this.statusCode = statusCode;\n  }\n}\n\nexport default Error;\n\n\n\n// WEBPACK FOOTER //\n// ./exceptions/Error.ts","import UserPayload from '../domain/requests/UserPayload';\n\nimport * as UserDao from '../daos/user';\n\n/**\n * Fetch all users from users table.\n *\n * @returns {Promise<UserPayload[]>}\n */\nexport async function fetchAll(searchKey: string): Promise<UserPayload[]> {\n  const users: any = await UserDao.fetchAll(searchKey);\n\n  return users;\n}\n\n/**\n *  Create new user in users table.\n *\n * @param user Object\n *\n * @returns {Promise<UserPayload[]>}\n */\nexport async function create(user: UserPayload): Promise<UserPayload[]> {\n  const users: any = await UserDao.create(user);\n\n  return users;\n}\n\n/**\n *  Update user by id in users table.\n *\n * @param id String\n * @param user Object\n *\n * @returns {Promise<UserPayload[]>}\n */\nexport async function update(\n  id: string,\n  user: UserPayload\n): Promise<UserPayload[]> {\n  const updateUser: any = await UserDao.update(id, user);\n\n  return updateUser;\n}\n\n/**\n *  Ferch all users by id from users table.\n *\n * @param id String\n *\n * @returns {Promise<UserPayload[]>}\n */\nexport async function getById(id: string): Promise<UserPayload[]> {\n  const updateUser: any = await UserDao.getById(id);\n\n  return updateUser;\n}\n\nexport async function findByGoogleId(id: string): Promise<UserPayload[]> {\n  const updateUser: any = await UserDao.findByGoogleId(id);\n\n  return updateUser;\n}\n\nexport async function updateRefreshToken(\n  user: Array<UserPayload>,\n  refreshToken: string\n): Promise<UserPayload[]> {\n  const updateUser: any = await UserDao.updateRefreshToken(user, refreshToken);\n\n  return updateUser;\n}\n\nexport async function findUserDetail(id: string): Promise<UserPayload[]> {\n  const updateUser: any = await UserDao.findUserDetail(id);\n\n  return updateUser;\n}\n\nexport async function removeSession(\n  user: UserPayload,\n  token: string\n): Promise<UserPayload[]> {\n  const index = user.refreshToken.indexOf(token);\n  if (index > -1) {\n    user.refreshToken = user.refreshToken.splice(index, 1);\n\n    await UserDao.update(user._id, user);\n  }\n\n  return [];\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./services/userService.ts","import config from '../config/config';\nimport { OAuth2Client } from 'google-auth-library';\nimport UnauthorizedError from '../exceptions/UnauthorizedError';\n\nexport async function verifyGoogleAccount(token: any) {\n  const client = new OAuth2Client(config.googleClientId, '', '');\n\n  return new Promise((resolve, reject) => {\n    if (!token) {\n      throw new Error('No token');\n    }\n\n    client\n      .verifyIdToken({ idToken: token, audience: config.googleClientId })\n      .then((login: any) => {\n        const payload = login.getPayload();\n\n        if (payload['aud'] === config.googleClientId) {\n          resolve({\n            userId: payload.sub,\n            email: payload.email,\n            name: payload.name,\n            imageUrl: payload.picture\n          });\n        } else {\n          throw new UnauthorizedError(\n            config.ERROR_MESSAGE.INVALID_GOOGLE_CLIENT_ID\n          );\n        }\n      })\n      .catch((err: any) => reject(err));\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./services/authService.ts","import config from '../config/config';\nimport UnauthorizedError from '../exceptions/UnauthorizedError';\nimport CommentPayload from '../domain/requests/CommentPayload';\nimport PostPayload from '../domain/requests/PostPayload';\n\nimport * as CommentDao from '../daos/comment';\n\nexport async function create(\n  comment: CommentPayload,\n  postId: any,\n  userId: any\n): Promise<CommentPayload[]> {\n  const newComment: any = await CommentDao.create(comment, postId, userId);\n\n  return newComment;\n}\n\nexport async function findByPostId(postId: any): Promise<CommentPayload[]> {\n  const newComment: any = await CommentDao.findByPostId(postId);\n\n  return newComment;\n}\n\nexport async function createSubComment(\n  subComment: CommentPayload,\n  commentId: any,\n  userId: any\n): Promise<CommentPayload[]> {\n  const newComment: any = await CommentDao.createSubComment(\n    subComment,\n    commentId,\n    userId\n  );\n\n  return newComment;\n}\n\nexport async function updateSubComment(\n  subComment: CommentPayload,\n  commentId: any,\n  subCommentId: any,\n  currentUserId: any\n): Promise<CommentPayload[]> {\n  const newComment: any = await CommentDao.updateSubComment(\n    subComment,\n    commentId,\n    subCommentId,\n    currentUserId\n  );\n\n  return newComment;\n}\n\nexport async function update(\n  id: string,\n  comment: CommentPayload,\n  currentUserId: any\n): Promise<CommentPayload[]> {\n  const fetchComment: any = await CommentDao.getById(id);\n\n  if (currentUserId !== fetchComment.users.toString()) {\n    throw new UnauthorizedError(config.ERROR_MESSAGE.INVALID_ACTION);\n  }\n\n  console.log('eta ayo');\n  const updateComment: any = await CommentDao.update(id, {\n    description: comment.description\n  });\n\n  return updateComment;\n}\n\nexport async function removeSubComment(\n  commentId: any,\n  userId: any\n): Promise<CommentPayload[]> {\n  const newComment: any = await CommentDao.removeSubComment(commentId, userId);\n\n  return newComment;\n}\n\nexport async function deleteById(id: string): Promise<PostPayload[]> {\n  const posts: any = await CommentDao.deleteById(id);\n\n  return posts;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./services/commentService.ts","import * as HttpStatus from \"http-status-codes\";\nimport { Request, Response, NextFunction } from \"express\";\n\nimport CommentPayload from \"../domain/requests/CommentPayload\";\n\nimport * as commentService from \"../services/commentService\";\nimport BadRequestError from '../exceptions/BadRequestError';\nimport config from '../config/config';\n\n/**\n * Controller to handle /comments POST request.\n *\n * @param {Request} req\n * @param {Response} res\n * @param {NextFunction} next\n */\nexport async function create(req: Request, res: Response, next: NextFunction) {\n  try {\n    const commentPayload = req.body as CommentPayload;\n\n    if (!req.params.postId) {\n      throw new BadRequestError(config.ERROR_MESSAGE.POST_ID_NOT_FOUND);\n    }\n\n    const response = await commentService.create(\n      commentPayload,\n      req.params.postId,\n      res.locals.loggedInPayload.id\n    );\n\n    res.status(HttpStatus.OK).json({\n      code: HttpStatus.OK,\n      data: response,\n      message: \"created\"\n    });\n  } catch (err) {\n    next(err);\n  }\n}\n\n/**\n * Controller to handle /comments PUT request.\n *\n * @param {Request} req\n * @param {Response} res\n * @param {NextFunction} next\n */\nexport async function editSubComment(\n  req: Request,\n  res: Response,\n  next: NextFunction\n) {\n  try {\n    const subCommentPayload = req.body as CommentPayload;\n\n    const response = await commentService.updateSubComment(\n      subCommentPayload,\n      req.params.id,\n      req.params.subCommentId,\n      res.locals.loggedInPayload.id\n    );\n\n    res.status(HttpStatus.OK).json({\n      code: HttpStatus.OK,\n      data: response,\n      message: \"created\"\n    });\n  } catch (err) {\n    next(err);\n  }\n}\n\n/**\n * Controller to handle /comments POST request.\n *\n * @param {Request} req\n * @param {Response} res\n * @param {NextFunction} next\n */\nexport async function createSubComment(\n  req: Request,\n  res: Response,\n  next: NextFunction\n) {\n  try {\n    const subCommentPayload = req.body as CommentPayload;\n\n    const response = await commentService.createSubComment(\n      subCommentPayload,\n      req.params.id,\n      res.locals.loggedInPayload.id\n    );\n\n    res.status(HttpStatus.OK).json({\n      code: HttpStatus.OK,\n      data: response,\n      message: \"created\"\n    });\n  } catch (err) {\n    next(err);\n  }\n}\n\n/**\n * Controller to handle /comment/:id DELETE request.\n *\n * @param {Request} req\n * @param {Response} res\n * @param {NextFunction} next\n */\nexport async function deleteById(\n  req: Request,\n  res: Response,\n  next: NextFunction\n) {\n  try {\n    const response = await commentService.deleteById(req.params.id, );\n\n    res.status(HttpStatus.OK).json({\n      code: HttpStatus.OK,\n      data: response,\n      message: \"Deleted\"\n    });\n  } catch (err) {\n    next(err);\n  }\n}\n\n/**\n * Controller to handle /users POST request.\n *\n * @param {Request} req\n * @param {Response} res\n * @param {NextFunction} next\n */\nexport async function update(req: Request, res: Response, next: NextFunction) {\n  try {\n    const commentPayload = req.body as CommentPayload;\n    const response = await commentService.update(\n      req.params.id,\n      commentPayload,\n      res.locals.loggedInPayload.id\n    );\n\n    res.status(HttpStatus.OK).json({\n      code: HttpStatus.OK,\n      data: response,\n      message: \"abc\"\n    });\n  } catch (err) {\n    next(err);\n  }\n}\n\n/**\n * Controller to handle /posts POST request.\n *\n * @param {Request} req\n * @param {Response} res\n * @param {NextFunction} next\n */\nexport async function removeSubComment(\n  req: Request,\n  res: Response,\n  next: NextFunction\n) {\n  try {\n    const response = await commentService.removeSubComment(\n      req.params.id,\n      req.params.subCommentId\n    );\n\n    res.status(HttpStatus.OK).json({\n      code: HttpStatus.OK,\n      data: response,\n      message: \"Deleted\"\n    });\n  } catch (err) {\n    next(err);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./controllers/comment.ts","import app from \"./app\";\nimport config from \"./config/config\";\nimport logger from \"./utils/logger\";\nimport nodeErrorHandler from \"./middlewares/nodeErrorHandler\";\nimport mongoose from \"mongoose\";\n\nconst { port, host, dbConnectionString } = config;\nconst options = { server: { socketOptions: { keepAlive: 1 } } };\nmongoose.connect(dbConnectionString, options);\n\n// Add those events to get more info about mongoose connection:\n\n// Connected handler\nmongoose.connection.on(\"connected\", function(err: any) {\n  console.log(\"Connected to DB using chain: \" + dbConnectionString);\n});\n\n// Error handler\nmongoose.connection.on(\"error\", function(err: any) {\n  console.log(err);\n});\n\napp\n  .listen(+port, host, () => {\n    logger.info(`Server started at http://${host}:${port}`);\n  })\n  .on(\"error\", nodeErrorHandler);\n\n\n\n// WEBPACK FOOTER //\n// ./index.ts","import cors from \"cors\";\nimport helmet from \"helmet\";\nimport morgan from \"morgan\";\nimport express from \"express\";\nimport bodyParser from \"body-parser\";\n\nimport routes from \"./routes\";\nimport config from \"./config/config\";\nimport notFoundHandler from \"./middlewares/notFoundHandler\";\nimport genericErrorHandler from \"./middlewares/genericErrorHandler\";\n\nconst { name, version } = config;\nconst app: express.Application = express();\n\napp.locals.name = name;\napp.locals.version = version;\n\napp.use(cors());\napp.use(helmet());\napp.use(morgan(\"dev\"));\n\napp.use(\n  bodyParser.json({\n    limit: \"50mb\"\n  })\n);\napp.use(bodyParser.urlencoded({ extended: true }));\n\napp.use(\"/api\", routes);\n\napp.use(genericErrorHandler);\napp.use(notFoundHandler);\n\nexport default app;\n\n\n\n// WEBPACK FOOTER //\n// ./app.ts","module.exports = require(\"cors\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cors\"\n// module id = 18\n// module chunks = 0","module.exports = require(\"helmet\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"helmet\"\n// module id = 19\n// module chunks = 0","module.exports = require(\"morgan\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"morgan\"\n// module id = 20\n// module chunks = 0","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 21\n// module chunks = 0","import { Router } from 'express';\n\nimport user from './routes/user';\nimport auth from './routes/auth';\nimport post from './routes/post';\nimport comment from './routes/comment';\n\nconst router: Router = Router();\n\nrouter.get('/', (req, res) => {\n  res.header('Access-Control-Allow-Origin', '*');\n  res.json({\n    name: req.app.locals.name,\n    version: req.app.locals.version\n  });\n});\n\nrouter.use('/auth', auth);\nrouter.use('/users', user);\nrouter.use('/posts', post);\nrouter.use('/comments', comment);\n\nexport default router;\n\n\n\n\n// WEBPACK FOOTER //\n// ./routes.ts","import { Router } from 'express';\n\nimport authenticate from '../middlewares/authenticate';\n\nimport * as userController from '../controllers/user';\n\nconst router: Router = Router();\n\n/**\n * GET /api/profile\n */\nrouter.get('/', authenticate, userController.getAll);\n\n/**\n * POST /api/profile/signup\n */\nrouter.post('/signup', userController.create);\n\n/**\n * PUT /api/profile/:id\n */\nrouter.put('/', authenticate, userController.update);\n\n/**\n * GET /api/profile/:id\n */\nrouter.get('/:id', userController.getById);\n\nrouter.get('/profile', authenticate, userController.getUserDetail);\n\nexport default router;\n\n\n\n// WEBPACK FOOTER //\n// ./routes/user.ts","module.exports = require(\"winston-daily-rotate-file\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"winston-daily-rotate-file\"\n// module id = 24\n// module chunks = 0","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 25\n// module chunks = 0","module.exports = require(\"winston\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"winston\"\n// module id = 26\n// module chunks = 0","module.exports = require(\"dotenv\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dotenv\"\n// module id = 27\n// module chunks = 0","module.exports = {\"name\":\"typescript-api-starter\",\"version\":\"0.1.0\",\"description\":\"Starter for Node.js express API with Typescript\",\"main\":\"index.js\",\"repository\":{\"type\":\"git\",\"url\":\"git@github.com:cham11ng/typescript-api-starter.git\"},\"engines\":{\"node\":\">= 8.9.4\",\"npm\":\">= 5.6.0\"},\"scripts\":{\"start:dev\":\"backpack\",\"start\":\"node build/main.js\",\"clean\":\"rimraf build\",\"prepush\":\"yarn build\",\"precommit\":\"lint-staged\",\"transpile\":\"backpack build\",\"build\":\"run-s clean lint:fix transpile\",\"test\":\"jest --config jest.json\",\"lint\":\"tslint src/**/*.{ts,js} test/**/*.{ts,js}\",\"lint:fix\":\"tslint --fix src/**/*.{ts,js} test/**/*.{ts,js}\",\"prettify\":\"prettier --single-quote --parser typescript --print-width 120 --write scripts/*.ts src/**/*.{ts,js} test/**/*.{ts,js}\"},\"lint-staged\":{\"linters\":{\"*.{ts, js}\":[\"tslint --fix src/**/*.{ts,js} test/**/*.{ts,js}\",\"prettier --single-quote --parser typescript --print-width 120 --write scripts/*.ts src/**/*.{ts,js} test/**/*.{ts,js}\",\"git add\"]}},\"private\":true,\"license\":\"MIT\",\"keywords\":[\"api\",\"es6\",\"node\",\"express\",\"javascript\",\"typescript\"],\"dependencies\":{\"bcrypt\":\"^2.0.1\",\"body-parser\":\"^1.18.3\",\"chalk\":\"^2.3.0\",\"cors\":\"^2.8.4\",\"dotenv\":\"^5.0.0\",\"express\":\"^4.16.2\",\"google-auth-library\":\"^3.1.2\",\"helmet\":\"^3.10.0\",\"http-status-codes\":\"^1.3.0\",\"joi\":\"^13.1.2\",\"jsonwebtoken\":\"^8.2.1\",\"mongoose\":\"^5.4.22\",\"morgan\":\">=1.9.1\",\"winston\":\"^2.4.0\",\"winston-daily-rotate-file\":\"^3.1.3\"},\"devDependencies\":{\"@types/mongoose\":\"^5.3.24\",\"@types/winston\":\"^2.3.7\",\"@types/bcrypt\":\"^2.0.0\",\"@types/cors\":\"^2.8.3\",\"@types/dotenv\":\"^4.0.2\",\"@types/helmet\":\"^0.0.37\",\"@types/express\":\"^4.11.1\",\"@types/jest\":\"^22.2.3\",\"@types/joi\":\"^13.0.5\",\"@types/jsonwebtoken\":\"^7.2.7\",\"@types/morgan\":\"^1.7.35\",\"backpack-core\":\"^0.7.0\",\"fork-ts-checker-webpack-plugin\":\"^0.4.1\",\"husky\":\"^0.14.3\",\"jest\":\"^22.4.3\",\"lint-staged\":\"^7.0.5\",\"npm-run-all\":\"^4.1.2\",\"prettier\":\"^1.10.2\",\"rimraf\":\"^2.6.2\",\"ts-jest\":\"^22.4.5\",\"ts-loader\":\"^3.5.0\",\"ts-node\":\"^6.0.1\",\"tslint\":\"^5.9.1\",\"tslint-config-prettier\":\"^1.7.0\",\"tslint-consistent-codestyle\":\"^1.11.1\",\"typescript\":\"^2.8.3\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../package.json\n// module id = 28\n// module chunks = 0","module.exports = {\"portInUse\":\"Port is already in use.\",\"invalidToken\":\"Your token is invalid.\",\"invalidCredentials\":\"Invalid Credentials\",\"accessTokenExpired\":\"Access token expired.\",\"noToken\":\"No token in authorization header.\",\"sessionNotMaintained\":\"Session not maintained.\",\"refreshTokenExpired\":\"Session has been expired.\",\"portRequirePrivilege\":\"Port requires elevated privileges.\",\"unAuthorized\":\"You are not authorized to perform this action.\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./resources/lang/errors.json\n// module id = 29\n// module chunks = 0","module.exports = {\"auth\":{\"loginSuccess\":\"Login successful.\",\"logoutSuccess\":\"Logout successful.\",\"invalidCredentials\":\"Invalid Credentials\",\"accessTokenRefreshed\":\"Access token refreshed successfully.\"},\"users\":{\"insert\":\"User inserted successfully.\",\"fetch\":\"User detail fetched successfully.\",\"delete\":\"User removed successfully.\",\"fetchAll\":\"List of users.\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./resources/lang/messages.json\n// module id = 30\n// module chunks = 0","module.exports = require(\"jsonwebtoken\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jsonwebtoken\"\n// module id = 31\n// module chunks = 0","import * as HttpStatus from 'http-status-codes';\nimport { Request, Response, NextFunction } from 'express';\n\nimport config from '../config/config';\nimport * as userService from '../services/userService';\nimport * as authService from '../services/authService';\nimport UserPayload from '../domain/requests/UserPayload';\nimport LoginPayload from '../domain/requests/LoginPayload';\n\nconst { messages } = config;\n\n/**\n * Controller to handle /users GET request.\n *\n * @param {Request} req\n * @param {Response} res\n * @param {NextFunction} next\n */\nexport async function getAll(req: Request, res: Response, next: NextFunction) {\n  try {\n    const searchKey = req.query.searchKey || '';\n    const response = await userService.fetchAll(searchKey);\n\n    res.status(HttpStatus.OK).json({\n      code: HttpStatus.OK,\n      data: response,\n      message: messages.users.fetchAll\n    });\n  } catch (err) {\n    next(err);\n  }\n}\n\n/**\n * Controller to handle /users POST request.\n *\n * @param {Request} req\n * @param {Response} res\n * @param {NextFunction} next\n */\nexport async function create(req: Request, res: Response, next: NextFunction) {\n  try {\n    const userPayload = req.body as LoginPayload;\n    const payload = await authService.verifyGoogleAccount(userPayload.token);\n    const user = await userService.findByGoogleId(payload.userId)\n\n    if (user.length) {\n      throw new Error('User already existed')\n    }\n\n    const newUser = {\n      name: payload.name,\n      email: payload.email,\n      userId: payload.userId,\n      image: payload.imageUrl\n    }\n\n    const response = await userService.create(newUser);\n    console.log('created user ', response)\n\n    res.status(HttpStatus.OK).json({\n      code: HttpStatus.OK,\n      data: response,\n      message: messages.users.insert\n    });\n  } catch (err) {\n    console.log('TODO: No user found', err);\n\n    next(err);\n  }\n}\n\n/**\n * Controller to handle /users POST request.\n *\n * @param {Request} req\n * @param {Response} res\n * @param {NextFunction} next\n */\nexport async function update(req: Request, res: Response, next: NextFunction) {\n  try {\n    const userPayload = req.body as UserPayload;\n\n    const response = await userService.update(res.locals.loggedInPayload.id, userPayload);\n\n    res.status(HttpStatus.OK).json({\n      code: HttpStatus.OK,\n      data: response,\n      message: messages.users.insert\n    });\n  } catch (err) {\n    next(err);\n  }\n}\n\n/**\n * Controller to handle /users POST request.\n *\n * @param {Request} req\n * @param {Response} res\n * @param {NextFunction} next\n */\nexport async function getById(req: Request, res: Response, next: NextFunction) {\n  try {\n    const response = await userService.getById(req.params.id);\n\n    res.status(HttpStatus.OK).json({\n      code: HttpStatus.OK,\n      data: response,\n      message: messages.users.insert\n    });\n  } catch (err) {\n    next(err);\n  }\n}\n\n/**\n * Controller to handle /users POST request.\n *\n * @param {Request} req\n * @param {Response} res\n * @param {NextFunction} next\n */\nexport async function getUserDetail(req: Request, res: Response, next: NextFunction) {\n  try {\n    const response = await userService.getById(res.locals.loggedInPayload.id);\n\n    res.status(HttpStatus.OK).json({\n      code: HttpStatus.OK,\n      data: response,\n      message: messages.users.insert\n    });\n  } catch (err) {\n    next(err);\n  }\n}\n  \n\n\n\n// WEBPACK FOOTER //\n// ./controllers/user.ts","import User from '../models/userModel';\nimport UserPayload from '../domain/requests/UserPayload';\n\nexport function create(user: UserPayload){\n  return new Promise((resolve, reject) => {\n    const UserModel = new User(user)\n    UserModel.save()\n    .then((user: any) => resolve(user))\n    .catch((err: any) => reject(err));\n  });\n}\n\nexport function fetchAll(searchKey: string){\n  return new Promise((resolve, reject) => {\n    const option = {}\n    if (searchKey) {\n      option.name = searchKey;\n    }\n\n    User.find(option)\n    .then((user: any) => resolve(user))\n    .catch((err: any) => reject(err));\n  });\n}\n\nexport function update(id: any , user: object){\n  return new Promise((resolve, reject) => {\n    User.findOneAndUpdate({_id: id}, user)\n    .then((user: any) => resolve(user))\n    .catch((err: any) => reject(err));\n  });\n}\n\nexport function getById(id: any){\n  return new Promise((resolve, reject) => {\n    User.findById(id).select('name email image')\n    .then((user: any) => resolve(user))\n    .catch((err: any) => reject(err));\n  });\n}\n\n\nexport function findByGoogleId(id: any){\n  return new Promise((resolve, reject) => {\n    User.find({userId: id})\n    .then((user: any) => resolve(user))\n    .catch((err: any) => reject(err));\n  });\n}\n\nexport function updateRefreshToken(user: Array<UserPayload> , refreshToken: string){\n  return new Promise((resolve, reject) => {\n    user[0].refreshToken.push(refreshToken);\n    console.log('final user ', user)\n    User.findOneAndUpdate({_id: user[0]._id}, user[0])\n    .then((user: any) => resolve(user))\n    .catch((err: any) => reject(err));\n  });\n}\n\nexport function findUserDetail(id: any){\n  return new Promise((resolve, reject) => {\n    User.findById(id)\n    .then((user: any) => resolve(user))\n    .catch((err: any) => reject(err));\n  });\n}\n\n\n// WEBPACK FOOTER //\n// ./daos/user.ts","import mongoose from 'mongoose';\n\nconst Schema = mongoose.Schema;\nexport const Users = new Schema(\n  {\n    name: {\n      type: String,\n      required: true\n    },\n    email: {\n      type: String,\n      required: false\n    },\n    createdAt: {\n      type: Date,\n      default: Date.now\n    },\n    updatedAt: {\n      type: Date,\n      default: Date.now\n    },\n    userId: {\n      type: String\n    },\n    image: {\n      type: String\n    },\n    refreshToken: {\n      type: Array\n    }\n  }\n);\n\nmodule.exports = exports = mongoose.model('users', Users); \n\n\n\n\n// WEBPACK FOOTER //\n// ./models/userModel.ts","module.exports = require(\"google-auth-library\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"google-auth-library\"\n// module id = 35\n// module chunks = 0","import { Router } from 'express';\n\nimport * as authController from '../controllers/auth';\nimport validateRefreshToken from '../middlewares/validateRefreshToken';\n\nconst router: Router = Router();\n\nrouter.post('/login', authController.login);\nrouter.post('/logout', validateRefreshToken, authController.logout);\nrouter.post('/refresh-token', validateRefreshToken, authController.getAccesstoken);\n\nexport default router;\n\n\n\n\n// WEBPACK FOOTER //\n// ./routes/auth.ts","import { Request, Response, NextFunction } from 'express';\n\nimport config from '../config/config';\nimport LoginPayload from '../domain/requests/LoginPayload';\nimport BadRequestError from '../exceptions/BadRequestError';\n\nimport * as utilService from '../utils/jwt';\nimport * as HttpStatus from 'http-status-codes';\nimport * as authService from '../services/authService';\nimport * as userService from '../services/userService';\n\n/**\n * Controller to handle /login request.\n *\n * @param {Request} req\n * @param {Response} res\n * @param {NextFunction} next\n */\nexport async function login(req: Request, res: Response, next: NextFunction) {\n  try {\n    if (!req.body.token) {\n      throw new BadRequestError(config.ERROR_MESSAGE.TOKEN_REQUIRED);\n    }\n\n    const loginPayload = req.body as LoginPayload; // todo loginorsignup change name\n    const payload = await authService.verifyGoogleAccount(loginPayload.token);\n    let user = await userService.findByGoogleId(payload.userId);\n\n    if (!user.length) {\n      const newUser = {\n        name: payload.name,\n        email: payload.email,\n        userId: payload.userId,\n        image: payload.imageUrl\n      };\n\n      user = await userService.create(newUser);\n      user = [user]\n    }\n\n    const tokenData = { id: user[0]._id };\n\n    const accessToken = utilService.generateAccessToken(tokenData);\n    const refreshToken = utilService.generateRefreshToken(tokenData);\n\n    const response = {\n      accessToken,\n      refreshToken,\n      name: user[0].name,\n      email: user[0].email,\n      image: user[0].image,\n      id: user[0]._id\n    };\n\n    res.status(HttpStatus.OK).json({\n      code: HttpStatus.OK,\n      data: response,\n      message: 'created'\n    });\n  } catch (err) {\n    console.log('TODO: No user found', err);\n\n    next(err);\n  }\n}\n\n/**\n * Controller to handle /refresh request.\n *\n * @param {Request} req\n * @param {Response} res\n * @param {NextFunction} next\n */\nexport async function getAccesstoken(\n  req: Request,\n  res: Response,\n  next: NextFunction\n) {\n  try {\n    const tokenData = { id: res.locals.loggedInPayload.id };\n\n    const accessToken = utilService.generateAccessToken(tokenData);\n\n    res.status(HttpStatus.OK).json({\n      accessToken,\n      code: HttpStatus.OK,\n      message: 'genereated'\n    });\n  } catch (error) {\n    next(error);\n  }\n}\n\n/**\n * Controller to handle /logout request.\n *\n * @param {Request} req\n * @param {Response} res\n * @param {NextFunction} next\n */\nexport async function logout(req: Request, res: Response, next: NextFunction) {\n  try {\n    const token = req.body.refreshToken;\n    const user = await userService.findUserDetail(\n      res.locals.loggedInPayload.id\n    );\n    if (user) {\n      await userService.removeSession(user, token);\n    }\n    const response = [];\n\n    res.status(HttpStatus.OK).json({\n      response,\n      code: HttpStatus.OK,\n      message: 'genereated'\n    });\n  } catch (error) {\n    next(error);\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./controllers/auth.ts","import { Request, Response, NextFunction } from 'express';\n\nimport * as jwt from '../utils/jwt';\nimport logger from '../utils/logger';\nimport config from '../config/config';\nimport ErrorType from './../resources/enums/ErrorType';\nimport BadRequestError from '../exceptions/BadRequestError';\nimport UnauthorizedError from '../exceptions/UnauthorizedError';\n\nconst { errors } = config;\n\nconst tokenErrorMessageMap: any = {\n  [ErrorType.INVALID]: errors.invalidToken,\n  [ErrorType.EXPIRED]: errors.refreshTokenExpired\n};\n\n/**\n * A middleware to validateRefershToken the authorization token i.e. refresh token.\n *\n * @param {Request} req\n * @param {Response} res\n * @param {NextFunction} next\n */\nasync function validateRefreshToken(\n  req: Request,\n  res: Response,\n  next: NextFunction\n) {\n  try {\n    res.locals.refreshToken = String(req.headers.authorization).replace(\n      'Bearer ',\n      ''\n    );\n\n    if (!req.headers.authorization || !res.locals.refreshToken) {\n      throw new BadRequestError(errors.noToken);\n    }\n\n    logger.debug('JWT: Verifying token - ', res.locals.refreshToken);\n    const response: any = jwt.verifyRefreshToken(res.locals.refreshToken);\n    res.locals.loggedInPayload = response;\n    logger.debug(\n      'JWT: Authentication verified - ',\n      JSON.stringify(res.locals.loggedInPayload, null, 2)\n    );\n\n    next();\n  } catch (err) {\n    const tokenErrorMessage = tokenErrorMessageMap[err.name];\n    logger.error('JWT: Authentication failed -', err.message);\n\n    if (tokenErrorMessage) {\n      logger.error('JWT: Token error -', tokenErrorMessage);\n\n      next(new UnauthorizedError(tokenErrorMessage));\n    } else {\n      next(err);\n    }\n  }\n}\n\nexport default validateRefreshToken;\n\n\n\n// WEBPACK FOOTER //\n// ./middlewares/validateRefreshToken.ts","import { Router } from \"express\";\n\nimport authenticate from \"../middlewares/authenticate\";\n\nimport * as postController from \"../controllers/post\";\nimport * as commentController from \"../controllers/comment\";\n\nconst router: Router = Router();\n\nrouter.get(\"/\", postController.getAll);\nrouter.get(\"/:id\", postController.getById);\n\nrouter.post(\"/\", authenticate, postController.create);\nrouter.post(\"/:postId/comments\", authenticate, commentController.create);\n\nrouter.delete(\"/:id\", authenticate, postController.deletePostById);\n\nrouter.put(\"/:id\", authenticate, postController.update);\n\nexport default router;\n\n\n\n// WEBPACK FOOTER //\n// ./routes/post.ts","import * as HttpStatus from 'http-status-codes';\nimport { Request, Response, NextFunction } from 'express';\n\n// import config from '../config/config';\nimport * as postService from '../services/postService';\nimport * as commentService from '../services/commentService';\nimport PostPayload from '../domain/requests/PostPayload';\nimport { IPostPayload } from './../interface/post';\n\n/**\n * Controller to handle /posts POST request.\n *\n * @param {Request} req\n * @param {Response} res\n * @param {NextFunction} next\n */\nexport async function create(req: Request, res: Response, next: NextFunction) {\n  try {\n    const postPayload = req.body as PostPayload;\n\n    const response = await postService.create(\n      res.locals.loggedInPayload.id,\n      postPayload\n    );\n\n    res.status(HttpStatus.OK).json({\n      code: HttpStatus.OK,\n      data: response,\n      message: 'created'\n    });\n  } catch (err) {\n    next(err);\n  }\n}\n\n/**\n * Controller to handle /post POST request.\n *\n * @param {Request} req\n * @param {Response} res\n * @param {NextFunction} next\n */\nexport async function getById(req: Request, res: Response, next: NextFunction) {\n  try {\n    const post = await postService.getById(req.params.id);\n    const comments = await commentService.findByPostId(req.params.id);\n\n    const response = {\n      comments,\n      id: post._id,\n      users: post.users,\n      title: post.title,\n      description: post.description\n    };\n\n    res.status(HttpStatus.OK).json({\n      code: HttpStatus.OK,\n      data: response,\n      message: 'data'\n    });\n  } catch (err) {\n    next(err);\n  }\n}\n\n/**\n * Controller to handle /users GET request.\n *\n * @param {Request} req\n * @param {Response} res\n * @param {NextFunction} next\n */\nexport async function getAll(req: Request, res: Response, next: NextFunction) {\n  try {\n    const searchKey = req.query.searchKey || '';\n    const response = await postService.fetchAll(searchKey);\n\n    res.status(HttpStatus.OK).json({\n      code: HttpStatus.OK,\n      data: response,\n      message: 'All post'\n    });\n  } catch (err) {\n    next(err);\n  }\n}\n\n/**\n * Controller to handle /posts/:id DELETE request.\n *\n * @param {Request} req\n * @param {Response} res\n * @param {NextFunction} next\n */\nexport async function deletePostById(\n  req: Request,\n  res: Response,\n  next: NextFunction\n) {\n  try {\n    const response = await postService.deleteById(req.params.id, res.locals.loggedInPayload._id);\n\n    res.status(HttpStatus.OK).json({\n      code: HttpStatus.OK,\n      data: response,\n      message: 'Deleted'\n    });\n  } catch (err) {\n    next(err);\n  }\n}\n\n/**\n * Controller to handle /posts/:id PUT request.\n *\n * @param {Request} req\n * @param {Response} res\n * @param {NextFunction} next\n */\nexport async function update(req: Request, res: Response, next: NextFunction) {\n  try {\n    const postPayload = req.body as IPostPayload;\n\n    await postService.updateById(req.params.id, postPayload);\n    const response = await postService.getById(req.params.id);\n\n    res.status(HttpStatus.OK).json({\n      code: HttpStatus.OK,\n      data: response,\n      message: 'Updated'\n    });\n  } catch (err) {\n    next(err);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./controllers/post.ts","import PostPayload from '../domain/requests/PostPayload';\n\nimport { IPostPayload } from './../interface/post';\n\nimport * as PostDao from '../daos/post';\nimport UnauthorizedError from '../exceptions/UnauthorizedError';\nimport config from '../config/config';\n\nexport async function create(\n  userId: any,\n  post: PostPayload\n): Promise<PostPayload[]> {\n  post.users = {\n    _id: userId\n  };\n  const posts: any = await PostDao.create(post);\n  // const posts: any = await PostDao.fetchAll(option);\n\n  return posts;\n}\n\nexport async function getById(id: string): Promise<any[]> {\n  const updateUser: any = await PostDao.getById(id);\n\n  return updateUser;\n}\n\n/**\n * Fetch all users from users table.\n *\n * @returns {Promise<UserPayload[]>}\n */\nexport async function fetchAll(searchKey: string): Promise<PostPayload[]> {\n  const users: any = await PostDao.fetchAll(searchKey);\n\n  return users;\n}\n\nexport async function deleteById(id: string, currentUserId: string): Promise<PostPayload[]> {\n  const currentPost: any = await PostDao.getById(id);\n\n  if (currentUserId !== currentPost.users._id) {\n    throw new UnauthorizedError(config.ERROR_MESSAGE.INVALID_ACTION);\n  }\n  await PostDao.deleteById(id);\n\n  return [];\n}\n\n/**\n *  Update post by id.\n *\n * @param id String\n * @param post Object\n *\n * @returns {Promise<IPostPayload[]>}\n */\nexport async function updateById(\n  id: string,\n  post: IPostPayload\n): Promise<IPostPayload[]> {\n  const updateUser: any = await PostDao.updateById(id, post);\n\n  return updateUser;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./services/postService.ts","import Post from \"../models/postModel\";\nimport PostPayload from \"../domain/requests/PostPayload\";\n\nexport function create(post: PostPayload) {\n  return new Promise((resolve, reject) => {\n    const PostModel = new Post(post);\n    PostModel.save()\n      .then((post: any) => resolve(post))\n      .catch((err: any) => reject(err));\n  });\n}\n\nexport function getById(id: any) {\n  return new Promise((resolve, reject) => {\n    Post.findById(id)\n      .populate(\"users\", \"name\")\n      .then((user: any) => resolve(user))\n      .catch((err: any) => reject(err));\n  });\n}\n\nexport function fetchAll(searchKey: string) {\n  return new Promise((resolve, reject) => {\n    let searchOption = {};\n    if (searchKey) {\n      searchOption.title = new RegExp(searchKey, 'i')\n    }\n\n    Post.find(searchOption)\n      .populate(\"users\", \"name\")\n      .then((user: any) => resolve(user))\n      .catch((err: any) => reject(err));\n  });\n}\n\nexport function deleteById(id: string) {\n  return new Promise((resolve, reject) => {\n    Post.deleteOne({ _id: id })\n      .then((user: any) => resolve(user))\n      .catch((err: any) => reject(err));\n  });\n}\n\nexport function updateById(id: any, data: object) {\n  return new Promise((resolve, reject) => {\n    Post.findOneAndUpdate({ _id: id }, data, { new: true })\n      .then((user: any) => resolve(user))\n      .catch((err: any) => reject(err));\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./daos/post.ts","import mongoose from 'mongoose';\n\nconst Schema = mongoose.Schema;\nconst Posts = new Schema(\n  {\n    title: {\n      type: String,\n      required: true\n    },\n    description: {\n      type: String,\n      required: false\n    },\n    users: {\n      type: mongoose.Schema.Types.ObjectId,\n      ref: 'users',\n      required: true\n    }\n  }\n);\n\nmodule.exports = exports = mongoose.model('posts', Posts); \n\n\n\n// WEBPACK FOOTER //\n// ./models/postModel.ts","import Comment from '../models/commentModel';\nimport CommentPayload from '../domain/requests/CommentPayload';\nimport config from '../config/config';\nimport UnauthorizedError from '../exceptions/UnauthorizedError';\n\nexport function create(comment: CommentPayload, postId: any, userId: any) {\n  return new Promise((resolve, reject) => {\n    const buildComment = {\n      description: comment.description || '',\n      posts: {\n        _id: postId\n      },\n      users: {\n        _id: userId\n      }\n    };\n    const CommentModel = new Comment(buildComment);\n    CommentModel.save()\n      .then((commentDetail: any) => resolve(commentDetail))\n      .catch((err: any) => reject(err));\n  });\n}\n\nexport function findByPostId(postId: string) {\n  return new Promise((resolve, reject) => {\n    let option = {};\n    if (!postId) {\n      throw new Error('Please provide post id.');\n    }\n    option = {\n      posts: postId\n    };\n\n    Comment.find(option)\n      .populate('users', 'name')\n      .populate({\n        path: 'sub_comments.users',\n        model: 'users',\n        select: 'name'\n      })\n      .then((user: any) => resolve(user))\n      .catch((err: any) => reject(err));\n  });\n}\n\nexport function createSubComment(\n  subComment: CommentPayload,\n  commentId: any,\n  userId: any\n) {\n  return new Promise((resolve, reject) => {\n    const sub_comment = {\n      description: subComment.description || '',\n      users: {\n        _id: userId\n      }\n    };\n\n    Comment.findOneAndUpdate(\n      { _id: commentId },\n      { $push: { sub_comments: sub_comment } }\n    )\n      .then((commentDetail: any) => resolve(commentDetail))\n      .catch((err: any) => reject(err));\n  });\n}\n\nexport function updateSubComment(\n  subComment: CommentPayload,\n  commentId: any,\n  subCommentId: any,\n  currentUserId: any\n) {\n  return new Promise((resolve, reject) => {\n    Comment.findById(commentId)\n      .then((comment: any) => {\n        const subDoc = comment.sub_comments.id(subCommentId);\n        console.log('subDoc.users', subDoc.users);\n        console.log('currentUserId', currentUserId);\n        if (subDoc.users.toString() !== currentUserId) {\n          throw new UnauthorizedError(config.ERROR_MESSAGE.INVALID_ACTION);\n        }\n\n        console.log(subDoc);\n        subDoc.set({ description: subComment.description || '' });\n\n        comment\n          .save()\n          .then(function(savedComment: any) {\n            resolve(savedComment);\n          })\n          .catch(function(err: any) {\n            reject(err);\n          });\n      })\n      .catch((err: any) => reject(err));\n  });\n}\n\nexport function deleteById(id: string) {\n  return new Promise((resolve, reject) => {\n    console.log(\"id is   \", id)\n    Comment.deleteOne({ _id: id })\n      .then((user: any) => resolve(user))\n      .catch((err: any) => reject(err));\n  });\n}\n\nexport function update(id: any, comment: object) {\n  return new Promise((resolve, reject) => {\n    Comment.findOneAndUpdate({ _id: id }, comment)\n      .then((comment: any) => resolve(comment))\n      .catch((err: any) => reject(err));\n  });\n}\n\nexport function getById(id: any) {\n  return new Promise((resolve, reject) => {\n    Comment.findById(id)\n      .then((user: any) => resolve(user))\n      .catch((err: any) => reject(err));\n  });\n}\n\nexport function removeSubComment(commentId: any, subCommentId: any) {\n  return new Promise((resolve, reject) => {\n    Comment.findById(commentId)\n      .then((comment: any) => {\n        comment.sub_comments.id(subCommentId).remove();\n\n        comment\n          .save()\n          .then(function(savedComment: any) {\n            resolve(savedComment);\n          })\n          .catch(function(err: any) {\n            reject(err);\n          });\n      })\n      .catch((err: any) => reject(err));\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./daos/comment.ts","import mongoose from 'mongoose';\n\nconst Schema = mongoose.Schema;\n\nconst childSchema = new Schema({ description: {\n  type: String,\n  required: true\n},\nusers: {type: mongoose.Schema.Types.ObjectId,\n  ref: 'users',\n  required: true\n},\ncreatedAt: {\n  type: Date,\n  default: Date.now\n} });\n\nconst Comments = new Schema(\n  {\n    description: {\n      type: String,\n      required: true\n    },\n    users: {\n      type: mongoose.Schema.Types.ObjectId,\n      ref: 'users',\n      required: true\n    },\n    posts: {\n      type: mongoose.Schema.Types.ObjectId,\n      ref: 'posts',\n      required: true\n    },\n    createdAt: {\n      type: Date,\n      default: Date.now\n    },\n    updatedAt: {\n      type: Date,\n      default: Date.now\n    },\n    sub_comments: [childSchema]\n  }\n);\n\nmodule.exports = exports = mongoose.model('comments', Comments); \n\n\n\n// WEBPACK FOOTER //\n// ./models/commentModel.ts","import { Router } from 'express';\n\nimport * as commentController from '../controllers/comment';\nimport authenticate from '../middlewares/authenticate';\n\nconst router: Router = Router();\n\nrouter.put(\n  '/:id/sub-comments',\n  authenticate,\n  commentController.createSubComment\n);\nrouter.put(\n  '/:id/sub-comments/:subCommentId',\n  authenticate,\n  commentController.editSubComment\n);\n\nrouter.delete('/:id', authenticate, commentController.deleteById);\nrouter.put('/:id', authenticate, commentController.update);\nrouter.delete(\n  '/:id/sub-comments/:subCommentId',\n  commentController.removeSubComment\n);\n\nexport default router;\n\n\n\n// WEBPACK FOOTER //\n// ./routes/comment.ts","import * as HttpStatus from 'http-status-codes';\nimport { Request, Response, NextFunction } from 'express';\n\n/**\n * Error response middleware for 404 not found.\n *\n * @param  {Request} req\n * @param  {Response} res\n * @param  {NextFunction} next\n * @returns <void>\n */\nexport default function notFoundError(req: Request, res: Response, next: NextFunction): void {\n  res.status(HttpStatus.NOT_FOUND).json({\n    error: {\n      code: HttpStatus.NOT_FOUND,\n      message: HttpStatus.getStatusText(HttpStatus.NOT_FOUND)\n    }\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./middlewares/notFoundHandler.ts","import * as HttpStatus from 'http-status-codes';\nimport { Request, Response, NextFunction } from 'express';\n\nimport logger from '../utils/logger';\nimport APIResponseInterface from '../domain/responses/APIResponse';\n\n/**\n * Generic error response middleware for internal server errors.\n *\n * @param  {any} err\n * @param  {Request} req\n * @param  {Response} res\n * @param  {NextFunction} next\n * @returns void\n */\nexport default function genericErrorHandler(err: any, req: Request, res: Response, next: NextFunction): void {\n  const error = buildError(err);\n\n  logger.error('Error: ', JSON.stringify({ name: err.name, message: err.message }, null, 2));\n  logger.error('Error stack trace: ', err.stack);\n\n  res.status(error.code).json(error);\n}\n\n/**\n * Build error response for validation errors.\n *\n * @param  {Error} err\n * @return {Object}\n */\nfunction buildError(err: any): APIResponseInterface {\n  if (err.isJoi) {\n    return {\n      code: HttpStatus.BAD_REQUEST,\n      message: HttpStatus.getStatusText(HttpStatus.BAD_REQUEST),\n      data:\n        err.details &&\n        err.details.map((error: any) => ({\n          param: error.path.join('.'),\n          message: error.message\n        }))\n    };\n  }\n\n  if (err.isBoom) {\n    return {\n      code: err.output.statusCode,\n      message: err.output.payload.message || err.output.payload.error\n    };\n  }\n\n  if (err.isCustom) {\n    return {\n      code: err.statusCode,\n      message: err.message\n    };\n  }\n\n  return {\n    code: HttpStatus.INTERNAL_SERVER_ERROR,\n    message: HttpStatus.getStatusText(HttpStatus.INTERNAL_SERVER_ERROR)\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./middlewares/genericErrorHandler.ts","import config from '../config/config';\nimport logger from '../utils/logger';\n\nconst { errors } = config;\n\n/**\n * Node startup error handler.\n *\n * @param  {NodeJS.ErrnoException} err\n * @returns <void>\n */\nexport default function nodeErrorHandler(err: NodeJS.ErrnoException): void {\n  switch (err.code) {\n    case 'EACCES':\n      logger.error(errors.portRequirePrivilege);\n      process.exit(1);\n\n      break;\n\n    case 'EADDRINUSE':\n      logger.error(errors.portInUse);\n      process.exit(1);\n\n      break;\n\n    default:\n      throw err;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./middlewares/nodeErrorHandler.ts"],"sourceRoot":""}